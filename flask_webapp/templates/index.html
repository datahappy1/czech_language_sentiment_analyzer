{% extends "layout.html" %}
{% block content %}

<script>
  var toggle = function() {
  var mydiv = document.getElementById('newpost');
  if (mydiv.style.display === 'block' || mydiv.style.display === '')
    mydiv.style.display = 'none';
  else
    mydiv.style.display = 'block'
  }
</script>

<nav class="navbar navbar-expand-lg navbar-light bg-primary">
    <a class="navbar-brand" href="{{ url_for('main') }}">Czech language sentiment analyzer</a>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="nav navbar-nav ml-auto">
            <li class="nav-item"><a class="nav-link" href="{{ url_for('api') }}">API</a></li>
            <li class="nav-item"><a class="nav-link" href="{{ url_for('api') }}">About</a></li>
            <li class="nav-item"><a class="nav-link" href="{{ url_for('api') }}">Contact</a></li>
        </ul>
    </div>
</nav>

{% if template_sentiment_result %}
<div id="newpost" class="alert alert-info">
    <button type="button" class="close" aria-label="Close" onclick="toggle();">
        <span aria-hidden="true">&times;</span>
    </button>

    Overall sentiment: <strong> {{ template_sentiment_result[0] }} </strong>
    <ol>
        {% for res in template_sentiment_result[1] %}
        <li>
            {{ res.get('word') }} : {{ res.get('sentiment_value') }}
            {% if res.get('fuzzy_ratio') %}
            ( fuzzy ratio : {{ res.get('fuzzy_ratio') }} ,
            fuzzy matched word : {{ res.get('fuzzy_matched_word') }} )
            {% endif %}
        </li>
        {% endfor %}
    </ol>
</div>
{% endif %}

<div class="container-fluid">

    <form action="{{ url_for('main') }}" method="POST" enctype="multipart/form-data">
        <div class="form-group">
            <label for="InputText"></label>
            <textarea class="form-control" id="InputText" name="InputText" rows="3"
                      placeholder="Input your text for analysis here...">{{template_input_string}}</textarea>
        </div>
        <div class="form-group">
            <label for="AlgorithmTypeSelect">Algorithm type</label>
            <select class="form-control" id="AlgorithmTypeSelect" name="AlgorithmTypeSelect">
                <option value="naivebayes" {% if template_algorithm_type == "naivebayes" %}selected{% endif %}>
                    Naive Bayes</option>
                <option value="small" {% if template_algorithm_type == "small" %}selected{% endif %}>
                    Word valence mean - Dataset of ~2k words with associated valence values generated from scraping of the Czech movie review database.</option>
                <option value="big" {% if template_algorithm_type == "big" %}selected{% endif %}>
                    Word valence mean - Dataset of ~96k words with associated valence values generated from scraping of the Czech movie review database.</option>
                <option value="full" {% if template_algorithm_type == "full" %}selected{% endif %}>
                    Word valence mean - Dataset of ~203k words with associated valence values generated from scraping of the Czech movie review database.</option>
                <option value="affin111" {% if template_algorithm_type == "affin111" %}selected{% endif %}>
                    Word valence mean - Dataset of ~2,5k words with associated valence values generated as a translation from English to Czech of Finn Ã…rup Nielsen's AFINN-111 manually labeled text file.</option>
                <option value="all" {% if template_algorithm_type == "all" %}selected{% endif %}>
                    Use all of the algorithms above ( might take some time ) </option>

            </select>
        </div>
        <div class="form-group">
            <div class="form-check">
                <input class="form-check-input" type="checkbox" value="True" id="FuzzyMatch" name="FuzzyMatch"
                       {%if template_fuzzy %} checked {% endif %}>
                <label class="form-check-label" for="FuzzyMatch">
                    Include Fuzzy match of input text words
                </label>
            </div>
        </div>
        <button type="submit" class="btn btn-primary">Submit</button>
    </form>

</div>

{% endblock %}